# Task ID: 4
# Title: Implement GET /templates/stems/:stem_id Endpoint
# Status: pending
# Dependencies: 1
# Priority: medium
# Description: Create the REST endpoint to fetch stem details and status, as specified in FLO-244.
# Details:
1. Create `getStem.ts` controller in `gateways/noggin/src/chats/controllers/`
2. Implement controller logic to:
   - Fetch stem by ID from database
   - Join with run and template data
   - Return 404 if stem not found
   - Return 200 with stem details if found
3. Include status derived from events:
   - Check for TEMPLATE_POPULATING_STARTED → status "loading"
   - Check for TEMPLATE_POPULATING_COMPLETED → status "complete"
4. For completed stems, include note data from artifacts store
5. Update `routes.ts` to mount the endpoint:
```typescript
router.get('/templates/stems/:stem_id', getStemController);
```

Example response structure:
```json
{
  "stem_id": "uuid",
  "status": "pending|loading|complete|error",
  "run_id": "uuid",
  "template": {
    "id": "uuid",
    "name": "Template Name"
  },
  "tasks": [
    {
      "id": "task-uuid",
      "status": "pending|loading|complete|error"
    }
  ],
  "note": {
    "id": "note-uuid",
    "content": "Note content when complete"
  }
}
```

# Test Strategy:
1. Unit tests for controller with mocked dependencies
2. Test different status scenarios based on events
3. Test error handling for non-existent stems
4. Integration tests with in-memory database
5. Verify correct joining of stem, run, and template data
