id: no-custom-require-env
language: typescript
severity: error
rule:
  kind: function_declaration
  pattern: "function requireEnv($$$)"
message: |
  Guard 50: Custom requireEnv detected.

  - Use Effect Config service for environment configuration
  - Config.string('KEY') returns Effect<string, ConfigError>
  - Provides typed, validated config access with proper error handling

  Example:
    // BAD: custom requireEnv
    function requireEnv(key: string): string { ... }

    // GOOD: Effect Config
    const config = Config.all({
      databaseUrl: Config.string('DATABASE_URL'),
      port: Config.number('PORT').pipe(Config.withDefault(3000))
    })

  See: effect-ts skill for Effect Config patterns
