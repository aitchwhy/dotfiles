# Hono: Require zValidator for mutation routes
# @see https://hono.dev/guides/validation
id: hono-require-zvalidator
language: TypeScript
severity: error
message: "Hono mutation routes (POST/PUT/PATCH) must use zValidator() for input validation"
note: |
  All POST, PUT, and PATCH routes should validate request body using zValidator from @hono/zod-validator.
  This ensures type-safe request handling and automatic error responses for invalid input.

rule:
  any:
    - pattern: $APP.post($PATH, async ($CTX) => { $$$BODY })
    - pattern: $APP.put($PATH, async ($CTX) => { $$$BODY })
    - pattern: $APP.patch($PATH, async ($CTX) => { $$$BODY })
