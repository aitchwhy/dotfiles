# Downloads Critical & Media Rules
# Purpose: Clean up installers and auto-import media to Photos
# Status: ACTIVE (Phase 1 - Critical + Media)

## Rule 1: Video auto-import to Photos (MP4, MOV, etc.)
## Import videos to Photos.app after 1-hour buffer, then delete
Conditions:
- Extension is "mp4" OR Extension is "mov" OR Extension is "m4v" OR Extension is "avi"
- Kind is "Movie" OR Kind is "Video"
- Date Added is not in the last 1 hour

Actions:
- Import to Photos.app
- Move to Trash
- Display notification "Video imported to Photos: {filename}"

---

## Rule 2: Image auto-import to Photos
## Import images to Photos.app after 1-hour buffer, then delete
Conditions:
- Kind is "Image"
- Extension is not "gif" (GIFs often used for references)
- Date Added is not in the last 1 hour

Actions:
- Import to Photos.app
- Move to Trash
- Display notification "Image imported to Photos: {filename}"

---

## Rule 3: DMG installers cleanup (7-day)
## Remove old DMG files to prevent Downloads folder bloat
Conditions:
- Extension is "dmg"
- Date Added is older than 7 days

Actions:
- Move to Trash
- Display notification "Removed installer: {filename}"

---

# Implementation Notes:
# - Import this rule into Hazel app manually: Hazel → Downloads → Import Rules
# - 1-hour buffer prevents processing files you just downloaded
# - Videos and images are safely backed up to iCloud Photos before deletion
# - DMG files: 7-day window is enough time to install any application
# - GIF files excluded from auto-import (often used for reference/memes)

# Audio Files (M4A, QTA):
# - Not included in current rules (user to decide destination)
# - Can be added later when use case is clear

# Future Rules (Available in archive/downloads-lifecycle.hazelrules):
# - PDF categorization (1 day)
# - Old file archival (30 days)
# - ZIP cleanup (7 days for files <100 MB)
