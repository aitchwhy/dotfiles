id: no-console
language: typescript
severity: error
rule:
  any:
    - pattern: "console.log($$$ARGS)"
    - pattern: "console.error($$$ARGS)"
    - pattern: "console.warn($$$ARGS)"
    - pattern: "console.debug($$$ARGS)"
    - pattern: "console.info($$$ARGS)"
message: |
  CONSOLE VIOLATION detected.

  Use Effect-TS logging instead of console methods:

    // BAD
    console.log('Processing', data);
    console.error('Failed:', error);

    // GOOD - Effect-TS logging
    yield* Effect.log('Processing', data);
    yield* Effect.logError('Failed', error);

    // For CLI tools
    import { CliLoggerLive, runWithCliLogging } from '@/lib/logging';
    runWithCliLogging(Effect.log('message'));

    // For hooks (JSON protocol)
    import { emitHookDecision, logHookError } from '@/lib/logging';
    emitHookDecision({ decision: 'allow' });

  Zero console.* policy - all output through Effect-TS.
note: "See: config/agents/skills/effect-ts-patterns/SKILL.md"
