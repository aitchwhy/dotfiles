substituters = https://cache.nixos.org https://cache.nixos.org/ https://anterior-private.cachix.org
trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= anterior-private.cachix.org-1:4Fu0R1qHbEHRoJKqDeNLhMu0V4576tgTqGoLJmM+cJY=
netrc-file = /Users/hank/dotfiles/config/nix/netrc

# Shell experience
bash-prompt-prefix = "\[\033[01;34m\][nix]\[\033[00m\] "  # Distinctive nix shell prompt
download-buffer-size = 1000000  # Increase buffer size for large outputs

# Core functionality
experimental-features = nix-command flakes
extra-experimental-features = auto-allocate-uids ca-derivations
use-xdg-base-directories = true

# # Apple Silicon optimizations
# extra-platforms = x86_64-darwin  # Allows running x86_64 binaries via Rosetta 2
# use-case-hack = true             # Handles macOS case-insensitive filesystem issues

# Performance settings
max-jobs = auto           # Use all available CPU cores
cores = auto              # Utilize full CPU capacity per build
auto-optimise-store = true    # Save disk space through deduplication
http-connections = 50     # Increase concurrent downloads (default: 25)

# # Cache configuration
# substituters = https://cache.nixos.org
# trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY=

# Developer experience
keep-outputs = true       # Keep build outputs for debugging
keep-derivations = true   # Keep derivations for reference
sandbox = true            # Enable build isolation
warn-dirty = true         # Alert about uncommitted changes

# # Debugging support
# keep-going = true         # Continue building when some builds fail
show-trace = true         # Show stack traces for errors
# debugger-on-warn = true   # Useful with --debugger flag

