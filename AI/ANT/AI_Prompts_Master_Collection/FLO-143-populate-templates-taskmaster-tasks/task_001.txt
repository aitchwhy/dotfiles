# Task ID: 1
# Title: Create Database Schema for Templates, Runs, and Stems
# Status: pending
# Dependencies: None
# Priority: high
# Description: Define and implement the database schema for templates, runs, and stems tables/collections in the datastore (Postgres or Mongo).
# Details:
Create migration files in `infra/db/*` with the following schema:

```sql
-- For Postgres
CREATE TABLE templates (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  ref TEXT NOT NULL UNIQUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE runs (
  id UUID PRIMARY KEY,
  template_id UUID NOT NULL REFERENCES templates(id),
  status TEXT NOT NULL DEFAULT 'pending',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE stems (
  id UUID PRIMARY KEY,
  run_id UUID NOT NULL REFERENCES runs(id),
  parent_stem_id UUID REFERENCES stems(id),
  status TEXT NOT NULL DEFAULT 'pending',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

For MongoDB, create equivalent collections with similar structure. Ensure indexes are created for efficient querying, especially on foreign key relationships.

# Test Strategy:
1. Write unit tests to verify migration scripts run correctly
2. Test schema constraints (foreign keys, unique constraints)
3. Create integration tests that verify the database can store and retrieve template, run, and stem records
4. Verify that timestamps are automatically populated
