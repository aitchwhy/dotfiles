"use strict";var p=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var L=(r,o)=>{for(var s in o)p(r,s,{get:o[s],enumerable:!0})},P=(r,o,s,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of A(o))!b.call(r,t)&&t!==s&&p(r,t,{get:()=>o[t],enumerable:!(a=x(o,t))||a.enumerable});return r};var k=r=>P(p({},"__esModule",{value:!0}),r);var T={};L(T,{default:()=>D});module.exports=k(T);var e=require("@raycast/api"),i=require("react");var l=require("@raycast/api"),O=r=>!r||r.trim().length===0,h=r=>r.replace(/(\r\n|\n|\r)/gm," ").trim(),S=async()=>{try{let r=await l.Clipboard.readText();return r?h(r):""}catch(r){return console.error("Error reading clipboard:",r),""}},w=async()=>{try{let r=await(0,l.getSelectedText)();if(!O(r))return h(r)}catch{}return S()};function u(r,o,s){return"https://www.google.com/maps/dir/?api=1"+"&origin="+encodeURI(r)+"&destination="+encodeURI(o)+"&travelmode="+encodeURI(s)}var n=require("react/jsx-runtime");function D(){let r=(0,e.getPreferenceValues)(),[o,s]=(0,i.useState)(r.preferredOrigin),[a,t]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[m,I]=(0,i.useState)(r.preferredMode),[v,C]=(0,i.useState)(r.useSelected),y=(0,i.useCallback)(g=>{let c=g;s(c),c==="curloc"?t(""):c==="home"?t(r.homeAddress):t("")},[r.homeAddress]);return(0,i.useEffect)(()=>{async function g(){if(r.useSelected)try{let c=await w();f(c)}catch(c){console.error("Error fetching input:",c)}finally{C(!1)}else C(!1)}g()},[r.useSelected]),(0,n.jsxs)(e.Form,{isLoading:v,actions:(0,n.jsxs)(e.ActionPanel,{children:[(0,n.jsx)(e.Action.OpenInBrowser,{url:u(a,d,m),icon:e.Icon.Globe,onOpen:()=>(0,e.popToRoot)()}),(0,n.jsx)(e.Action.CopyToClipboard,{content:u(a,d,m),icon:e.Icon.Clipboard,onCopy:()=>(0,e.popToRoot)()})]}),children:[(0,n.jsx)(e.Form.TextField,{id:"destination",title:"Destination",placeholder:"Name or Address",value:d,onChange:f}),(0,n.jsx)(e.Form.Separator,{}),(0,n.jsxs)(e.Form.Dropdown,{id:"origin",title:"Starting from",value:o,onChange:y,children:[(0,n.jsx)(e.Form.Dropdown.Item,{value:"curloc",title:"Current Location",icon:e.Icon.Pin}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"home",title:"Home",icon:e.Icon.House}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"custom",title:"Custom Address",icon:e.Icon.Pencil})]}),o==="custom"&&(0,n.jsx)(e.Form.TextField,{id:"originAddress",title:"Address",placeholder:"Name or Address",value:a,onChange:t}),(0,n.jsxs)(e.Form.Dropdown,{id:"TransportType",title:"Transport Preference",value:m,onChange:I,children:[(0,n.jsx)(e.Form.Dropdown.Item,{value:"driving",title:"Driving",icon:e.Icon.Car}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"transit",title:"Transit",icon:e.Icon.Train}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"walking",title:"Walking",icon:e.Icon.Footprints}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"bicycling",title:"Cycling",icon:e.Icon.Bike})]})]})}
