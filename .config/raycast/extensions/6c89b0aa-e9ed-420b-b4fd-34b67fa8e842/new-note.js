"use strict";var X=Object.create;var d=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Y=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},b=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R(t))!j.call(e,o)&&o!==r&&d(e,o,{get:()=>t[o],enumerable:!(i=G(t,o))||i.enumerable});return e};var H=(e,t,r)=>(r=e!=null?X(K(e)):{},b(t||!e||!e.__esModule?d(r,"default",{value:e,enumerable:!0}):r,e)),J=e=>b(d({},"__esModule",{value:!0}),e);var P=m((fe,_)=>{"use strict";var T=require("fs"),y;function Q(){try{return T.statSync("/.dockerenv"),!0}catch{return!1}}function U(){try{return T.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}_.exports=()=>(y===void 0&&(y=Q()||U()),y)});var O=m((pe,A)=>{"use strict";var Z=require("os"),ee=require("fs"),C=P(),$=()=>{if(process.platform!=="linux")return!1;if(Z.release().toLowerCase().includes("microsoft"))return!C();try{return ee.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!C():!1}catch{return!1}};process.env.__IS_WSL_TEST__?A.exports=$:A.exports=$()});var D=m((de,k)=>{"use strict";k.exports=(e,t,r)=>{let i=o=>Object.defineProperty(e,t,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let o=r();return i(o),o},set(o){i(o)}}),e}});var B=m((me,V)=>{var te=require("path"),re=require("child_process"),{promises:w,constants:v}=require("fs"),g=O(),ne=P(),N=D(),W=te.join(__dirname,"xdg-open"),{platform:u,arch:I}=process,oe=()=>{try{return w.statSync("/run/.containerenv"),!0}catch{return!1}},F;function ie(){return F===void 0&&(F=oe()||ne()),F}var se=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",i=!1;try{await w.access(r,v.F_OK),i=!0}catch{}if(!i)return e;let o=await w.readFile(r,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return l?(t=l.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),q=async(e,t)=>{let r;for(let i of e)try{return await t(i)}catch(o){r=o}throw r},h=async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return q(e.app,c=>h({...e,app:c}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return q(t,c=>h({...e,app:{name:c,arguments:r}}));let i,o=[],l={};if(u==="darwin")i="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),t&&o.push("-a",t);else if(u==="win32"||g&&!ie()&&!t){let c=await se();i=g?`${c}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),g||(l.windowsVerbatimArguments=!0);let a=["Start"];e.wait&&a.push("-Wait"),t?(a.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&a.push(`"${e.target}"`),r.length>0&&(r=r.map(p=>`"\`"${p}\`""`),a.push(r.join(","))),e.target=Buffer.from(a.join(" "),"utf16le").toString("base64")}else{if(t)i=t;else{let c=!__dirname||__dirname==="/",a=!1;try{await w.access(W,v.X_OK),a=!0}catch{}i=process.versions.electron||u==="android"||c||!a?"xdg-open":W}r.length>0&&o.push(...r),e.wait||(l.stdio="ignore",l.detached=!0)}e.target&&o.push(e.target),u==="darwin"&&r.length>0&&o.push("--args",...r);let f=re.spawn(i,o,l);return e.wait?new Promise((c,a)=>{f.once("error",a),f.once("close",p=>{if(!e.allowNonzeroExitCode&&p>0){a(new Error(`Exited with code ${p}`));return}c(f)})}):(f.unref(),f)},S=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return h({...t,target:e})},ae=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return h({...t,app:{name:e,arguments:r}})};function M(e){if(typeof e=="string"||Array.isArray(e))return e;let{[I]:t}=e;if(!t)throw new Error(`${I} is not supported`);return t}function E({[u]:e},{wsl:t}){if(t&&g)return M(t);if(!e)throw new Error(`${u} is not supported`);return M(e)}var x={};N(x,"chrome",()=>E({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));N(x,"firefox",()=>E({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));N(x,"edge",()=>E({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));S.apps=x;S.openApp=ae;V.exports=S});var le={};Y(le,{default:()=>z});module.exports=J(le);var n=require("@raycast/api"),L=H(B()),s=require("react/jsx-runtime");function ce(){async function e(t){if(!t.text){(0,n.showToast)(n.Toast.Style.Failure,"Please enter text");return}(0,L.default)(`bear://x-callback-url/create?title=${t.title}&tags=${t.tags}&open_note=${t.openNote!=="no"?"yes":"no"}&new_window=${t.openNote==="new"?"yes":"no"}&show_window=${t.openNote!=="no"?"yes":"no"}&edit=${t.openNote==="no"?"no":"yes"}&timestamp=${t.timestamp?"yes":"no"}&text=${t.text}&pin=${t.pin?"yes":"no"}`,{background:t.openNote==="no"}),await(0,n.closeMainWindow)(),await(0,n.popToRoot)({clearSearchBar:!0})}return(0,s.jsx)(n.Action.SubmitForm,{icon:n.Icon.Document,title:"Create Note",onSubmit:e})}function z(){let{newNoteOpenMode:e,prependTimeAndDate:t,pinNote:r}=(0,n.getPreferenceValues)();return(0,s.jsxs)(n.Form,{navigationTitle:"Create Note",actions:(0,s.jsx)(n.ActionPanel,{children:(0,s.jsx)(ce,{})}),children:[(0,s.jsx)(n.Form.TextField,{id:"title",title:"Title",placeholder:"Note title"}),(0,s.jsx)(n.Form.TextArea,{id:"text",title:"Text",placeholder:"Text to add to note"}),(0,s.jsx)(n.Form.TextField,{id:"tags",title:"Tags",placeholder:"comma,separated,tags"}),(0,s.jsx)(n.Form.Separator,{}),(0,s.jsxs)(n.Form.Dropdown,{id:"openNote",title:"Open Note",defaultValue:e,children:[(0,s.jsx)(n.Form.Dropdown.Item,{value:"no",title:"Don't Open Note"}),(0,s.jsx)(n.Form.Dropdown.Item,{value:"main",title:"In Main Window"}),(0,s.jsx)(n.Form.Dropdown.Item,{value:"new",title:"In New Window"})]}),(0,s.jsx)(n.Form.Checkbox,{id:"timestamp",label:"Prepend time and date",defaultValue:t}),(0,s.jsx)(n.Form.Checkbox,{id:"pin",label:"Pin note in notes list",defaultValue:r})]})}
