"use strict";var T=Object.create;var p=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var U=(e,t)=>{for(var o in t)p(e,o,{get:t[o],enumerable:!0})},A=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let m of I(t))!X.call(e,m)&&m!==o&&p(e,m,{get:()=>t[m],enumerable:!(s=G(t,m))||s.enumerable});return e};var O=(e,t,o)=>(o=e!=null?T(E(e)):{},A(t||!e||!e.__esModule?p(o,"default",{value:e,enumerable:!0}):o,e)),V=e=>A(p({},"__esModule",{value:!0}),e);var H={};U(H,{default:()=>F});module.exports=V(H);var n=require("@raycast/api"),w=require("node:fs"),c=O(require("react"));var a=require("@raycast/api"),P=O(require("react")),l=require("react/jsx-runtime"),f=new a.Cache,d=()=>{let e=f.get("pinned");return e?JSON.parse(e):[]},g=()=>{let e=f.get("recent");return e?JSON.parse(e).slice(0,16):[]},$=e=>{B(e);let t=d();f.set("pinned",JSON.stringify([e,...t.filter(o=>o.name!==e.name)]))},S=e=>{if(!d().find(o=>o.name===e.name)){let o=g();f.set("recent",JSON.stringify([e,...o.filter(s=>s.name!==e.name)]))}},L=e=>{let t=d();f.set("pinned",JSON.stringify(t.filter(o=>o.name!==e.name)))},B=e=>{let t=g();f.set("recent",JSON.stringify(t.filter(o=>o.name!==e.name)))},W=()=>{f.set("recent",JSON.stringify([]))},R=e=>(0,l.jsxs)(a.ActionPanel.Section,{children:[e.pinned?(0,l.jsx)(P.default.Fragment,{children:(0,l.jsx)(a.Action,{title:"Unpin Symbol",shortcut:{modifiers:["shift","cmd"],key:"p"},icon:a.Icon.PinDisabled,onAction:async()=>{L(e.symbol),e.refresh()}})}):(0,l.jsx)(a.Action,{title:"Pin Symbol",icon:a.Icon.Pin,shortcut:{modifiers:["shift","cmd"],key:"p"},onAction:async()=>{$(e.symbol),e.refresh()}}),e.recent&&(0,l.jsx)(P.default.Fragment,{children:(0,l.jsx)(a.Action,{title:"Clear Recently Used Symbols",icon:a.Icon.XMarkCircle,shortcut:{modifiers:["cmd","shift"],key:"r"},style:a.Action.Style.Destructive,onAction:async()=>{await(0,a.confirmAlert)({title:"Clear recently used symbols?",message:"This action cannot be undone.",primaryAction:{title:"Clear",style:a.Alert.ActionStyle.Destructive}})&&(W(),e.refresh())}})})]});var i=require("react/jsx-runtime"),{primaryAction:u,gridColumns:M,showName:j,minimumVersionOS:N}=(0,n.getPreferenceValues)();function q(){return`${n.environment.assetsPath}/symbols/data.json`}function C(e){return`https://raw.githubusercontent.com/ndckj/sf-symbols/main/images/100/${e}.png`}var b=JSON.parse((0,w.readFileSync)(q(),{encoding:"utf8"}));function F(){let[e,t]=(0,c.useState)(),[o,s]=(0,c.useState)([]),[m,J]=(0,c.useState)([]),[k,x]=(0,c.useState)(!1),h=()=>x(!k);(0,c.useEffect)(()=>{s(d()),J(g())},[k]);let D=e&&e!=="all"?b.symbols.filter(r=>r.categories.includes(e)):b.symbols;return(0,i.jsx)(n.Grid,{isLoading:e===void 0,searchBarPlaceholder:"Search SF Symbols...",inset:n.Grid.Inset.Large,columns:Number(M),searchBarAccessory:(0,i.jsxs)(n.Grid.Dropdown,{tooltip:"Select SF sfsymbol category",storeValue:!0,onChange:r=>t(r),children:[(0,i.jsx)(n.Grid.Dropdown.Item,{value:b.categories[0].name,title:"All Categories",icon:{source:C(b.categories[0].symbol),fallback:n.Icon.Warning,tintColor:n.Color.PrimaryText}}),(0,i.jsx)(n.Grid.Dropdown.Section,{children:b.categories.slice(1).map((r,y)=>(0,i.jsx)(n.Grid.Dropdown.Item,{value:r.name,title:r.title,icon:{source:C(r.symbol),tintColor:n.Color.PrimaryText}},y))})]}),children:e&&(0,i.jsxs)(c.default.Fragment,{children:[(0,i.jsx)(n.Grid.Section,{title:"Pinned",children:o.filter(r=>e==="all"||r.categories.includes(e)).map((r,y)=>(0,i.jsx)(v,{symbol:r,refresh:h,pinned:!0},y))}),(0,i.jsx)(n.Grid.Section,{title:"Recently Used",children:m.filter(r=>e==="all"||r.categories.includes(e)).map((r,y)=>(0,i.jsx)(v,{symbol:r,refresh:h,recent:!0},y))}),(0,i.jsx)(n.Grid.Section,{title:m.length+o.length>0?"All Symbols":void 0,children:D.map((r,y)=>(0,i.jsx)(v,{symbol:r,refresh:h},y))})]})})}var v=e=>{let{symbol:t}=e,o;return N!="disabled"&&t.availableFrom?o=`${N} ${b.versions[t.availableFrom][N]}`:o=void 0,(0,i.jsx)(n.Grid.Item,{title:j?t.name:void 0,subtitle:o,content:{tooltip:t.name,value:{source:C(t.name),fallback:n.Icon.Warning,tintColor:n.Color.PrimaryText}},keywords:t.searchTerms.concat([t.name]),actions:(0,i.jsx)(z,{...e})})},z=e=>{let{name:t,symbol:o}=e.symbol,s={paste:(0,i.jsx)(n.Action.Paste,{title:"Paste Symbol",content:o,shortcut:{modifiers:["shift","opt"],key:"v"},onPaste:()=>{S(e.symbol),e.refresh()}},"paste"),copy:(0,i.jsx)(n.Action.CopyToClipboard,{title:"Copy Symbol",content:o,shortcut:{modifiers:["shift","opt"],key:"c"},onCopy:()=>{S(e.symbol),e.refresh()}},"copy"),pasteName:(0,i.jsx)(n.Action.Paste,{title:"Paste Name",content:t,shortcut:{modifiers:["shift","cmd"],key:"v"},onPaste:()=>{S(e.symbol),e.refresh()}},"pasteName"),copyName:(0,i.jsx)(n.Action.CopyToClipboard,{title:"Copy Name",content:t,shortcut:{modifiers:["shift","cmd"],key:"c"},onCopy:()=>{S(e.symbol),e.refresh()}},"copyName")},m=[];return u=="pasteSymbol"?m=[s.paste,s.copy,s.copyName,s.pasteName]:u=="copySymbol"?m=[s.copy,s.paste,s.copyName,s.pasteName]:u=="pasteName"?m=[s.pasteName,s.copyName,s.paste,s.copy]:u=="copyName"&&(m=[s.copyName,s.pasteName,s.copy,s.paste]),(0,i.jsxs)(n.ActionPanel,{title:t,children:[...m,(0,i.jsx)(R,{...e})]})};
