"use strict";var In=Object.create;var B=Object.defineProperty;var Tn=Object.getOwnPropertyDescriptor;var Pn=Object.getOwnPropertyNames;var An=Object.getPrototypeOf,Cn=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gn=(e,t)=>{for(var r in t)B(e,r,{get:t[r],enumerable:!0})},Ge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pn(t))!Cn.call(e,o)&&o!==r&&B(e,o,{get:()=>t[o],enumerable:!(n=Tn(t,o))||n.enumerable});return e};var k=(e,t,r)=>(r=e!=null?In(An(e)):{},Ge(t||!e||!e.__esModule?B(r,"default",{value:e,enumerable:!0}):r,e)),Rn=e=>Ge(B({},"__esModule",{value:!0}),e);var Ne=c((Wo,Oe)=>{Oe.exports=Le;Le.sync=Ln;var Re=require("fs");function kn(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function ke(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:kn(t,r)}function Le(e,t,r){Re.stat(e,function(n,o){r(n,n?!1:ke(o,e,t))})}function Ln(e,t){return ke(Re.statSync(e),e,t)}});var Be=c((zo,Fe)=>{Fe.exports=$e;$e.sync=On;var qe=require("fs");function $e(e,t,r){qe.stat(e,function(n,o){r(n,n?!1:Me(o,t))})}function On(e,t){return Me(qe.statSync(e),t)}function Me(e,t){return e.isFile()&&Nn(e,t)}function Nn(e,t){var r=e.mode,n=e.uid,o=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),f=a|l,h=r&u||r&l&&o===s||r&a&&n===i||r&f&&i===0;return h}});var Ue=c((Ko,je)=>{var Xo=require("fs"),j;process.platform==="win32"||global.TESTING_WINDOWS?j=Ne():j=Be();je.exports=re;re.sync=qn;function re(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){re(e,t||{},function(i,s){i?o(i):n(s)})})}j(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function qn(e,t){try{return j.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Ve=c((Vo,Ke)=>{var v=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",He=require("path"),$n=v?";":":",De=Ue(),We=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ze=(e,t)=>{let r=t.colon||$n,n=e.match(/\//)||v&&e.match(/\\/)?[""]:[...v?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=v?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=v?o.split(r):[""];return v&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:o}},Xe=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:i}=ze(e,t),s=[],a=u=>new Promise((f,h)=>{if(u===n.length)return t.all&&s.length?f(s):h(We(e));let m=n[u],w=/^".*"$/.test(m)?m.slice(1,-1):m,y=He.join(w,e),g=!w&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;f(l(g,u,0))}),l=(u,f,h)=>new Promise((m,w)=>{if(h===o.length)return m(a(f+1));let y=o[h];De(u+y,{pathExt:i},(g,E)=>{if(!g&&E)if(t.all)s.push(u+y);else return m(u+y);return m(l(u,f,h+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},Mn=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=ze(e,t),i=[];for(let s=0;s<r.length;s++){let a=r[s],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=He.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let h=0;h<n.length;h++){let m=f+n[h];try{if(De.sync(m,{pathExt:o}))if(t.all)i.push(m);else return m}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw We(e)};Ke.exports=Xe;Xe.sync=Mn});var ie=c((Zo,oe)=>{"use strict";var Ze=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};oe.exports=Ze;oe.exports.default=Ze});var et=c((Yo,Je)=>{"use strict";var Ye=require("path"),Fn=Ve(),Bn=ie();function Qe(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,i=o&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Fn.sync(e.command,{path:r[Bn({env:r})],pathExt:t?Ye.delimiter:void 0})}catch{}finally{i&&process.chdir(n)}return s&&(s=Ye.resolve(o?e.options.cwd:"",s)),s}function jn(e){return Qe(e)||Qe(e,!0)}Je.exports=jn});var tt=c((Qo,ae)=>{"use strict";var se=/([()\][%!^"`<>&|;, *?])/g;function Un(e){return e=e.replace(se,"^$1"),e}function Hn(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(se,"^$1"),t&&(e=e.replace(se,"^$1")),e}ae.exports.command=Un;ae.exports.argument=Hn});var rt=c((Jo,nt)=>{"use strict";nt.exports=/^#!(.*)/});var it=c((ei,ot)=>{"use strict";var Dn=rt();ot.exports=(e="")=>{let t=e.match(Dn);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var at=c((ti,st)=>{"use strict";var ce=require("fs"),Wn=it();function zn(e){let r=Buffer.alloc(150),n;try{n=ce.openSync(e,"r"),ce.readSync(n,r,0,150,0),ce.closeSync(n)}catch{}return Wn(r.toString())}st.exports=zn});var dt=c((ni,ut)=>{"use strict";var Xn=require("path"),ct=et(),lt=tt(),Kn=at(),Vn=process.platform==="win32",Zn=/\.(?:com|exe)$/i,Yn=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Qn(e){e.file=ct(e);let t=e.file&&Kn(e.file);return t?(e.args.unshift(e.file),e.command=t,ct(e)):e.file}function Jn(e){if(!Vn)return e;let t=Qn(e),r=!Zn.test(t);if(e.options.forceShell||r){let n=Yn.test(t);e.command=Xn.normalize(e.command),e.command=lt.command(e.command),e.args=e.args.map(i=>lt.argument(i,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function er(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Jn(n)}ut.exports=er});var mt=c((ri,pt)=>{"use strict";var le=process.platform==="win32";function ue(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function tr(e,t){if(!le)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let i=ft(o,t,"spawn");if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}}function ft(e,t){return le&&e===1&&!t.file?ue(t.original,"spawn"):null}function nr(e,t){return le&&e===1&&!t.file?ue(t.original,"spawnSync"):null}pt.exports={hookChildProcess:tr,verifyENOENT:ft,verifyENOENTSync:nr,notFoundError:ue}});var yt=c((oi,I)=>{"use strict";var ht=require("child_process"),de=dt(),fe=mt();function wt(e,t,r){let n=de(e,t,r),o=ht.spawn(n.command,n.args,n.options);return fe.hookChildProcess(o,n),o}function rr(e,t,r){let n=de(e,t,r),o=ht.spawnSync(n.command,n.args,n.options);return o.error=o.error||fe.verifyENOENTSync(o.status,n),o}I.exports=wt;I.exports.spawn=wt;I.exports.sync=rr;I.exports._parse=de;I.exports._enoent=fe});var St=c((ii,gt)=>{"use strict";gt.exports=e=>{let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var bt=c((si,O)=>{"use strict";var L=require("path"),xt=ie(),_t=e=>{e={cwd:process.cwd(),path:process.env[xt()],execPath:process.execPath,...e};let t,r=L.resolve(e.cwd),n=[];for(;t!==r;)n.push(L.join(r,"node_modules/.bin")),t=r,r=L.resolve(r,"..");let o=L.resolve(e.cwd,e.execPath,"..");return n.push(o),n.concat(e.path).join(L.delimiter)};O.exports=_t;O.exports.default=_t;O.exports.env=e=>{e={env:process.env,...e};let t={...e.env},r=xt({env:t});return e.path=t[r],t[r]=O.exports(e),t}});var vt=c((ai,pe)=>{"use strict";var Et=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};pe.exports=Et;pe.exports.default=Et});var Tt=c((ci,H)=>{"use strict";var or=vt(),U=new WeakMap,It=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,o=e.displayName||e.name||"<anonymous>",i=function(...s){if(U.set(i,++n),n===1)r=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return or(i,e),U.set(i,n),i};H.exports=It;H.exports.default=It;H.exports.callCount=e=>{if(!U.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return U.get(e)}});var Pt=c(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.SIGNALS=void 0;var ir=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];D.SIGNALS=ir});var me=c(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.SIGRTMAX=T.getRealtimeSignals=void 0;var sr=function(){let e=Ct-At+1;return Array.from({length:e},ar)};T.getRealtimeSignals=sr;var ar=function(e,t){return{name:`SIGRT${t+1}`,number:At+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},At=34,Ct=64;T.SIGRTMAX=Ct});var Gt=c(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.getSignals=void 0;var cr=require("os"),lr=Pt(),ur=me(),dr=function(){let e=(0,ur.getRealtimeSignals)();return[...lr.SIGNALS,...e].map(fr)};W.getSignals=dr;var fr=function({name:e,number:t,description:r,action:n,forced:o=!1,standard:i}){let{signals:{[e]:s}}=cr.constants,a=s!==void 0;return{name:e,number:a?s:t,description:r,supported:a,action:n,forced:o,standard:i}}});var kt=c(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.signalsByNumber=P.signalsByName=void 0;var pr=require("os"),Rt=Gt(),mr=me(),hr=function(){return(0,Rt.getSignals)().reduce(wr,{})},wr=function(e,{name:t,number:r,description:n,supported:o,action:i,forced:s,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:o,action:i,forced:s,standard:a}}},yr=hr();P.signalsByName=yr;var gr=function(){let e=(0,Rt.getSignals)(),t=mr.SIGRTMAX+1,r=Array.from({length:t},(n,o)=>Sr(o,e));return Object.assign({},...r)},Sr=function(e,t){let r=xr(e,t);if(r===void 0)return{};let{name:n,description:o,supported:i,action:s,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:o,supported:i,action:s,forced:a,standard:l}}},xr=function(e,t){let r=t.find(({name:n})=>pr.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},_r=gr();P.signalsByNumber=_r});var Ot=c((pi,Lt)=>{"use strict";var{signalsByName:br}=kt(),Er=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:o,exitCode:i,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${o})`:i!==void 0?`failed with exit code ${i}`:"failed",vr=({stdout:e,stderr:t,all:r,error:n,signal:o,exitCode:i,command:s,escapedCommand:a,timedOut:l,isCanceled:u,killed:f,parsed:{options:{timeout:h}}})=>{i=i===null?void 0:i,o=o===null?void 0:o;let m=o===void 0?void 0:br[o].description,w=n&&n.code,g=`Command ${Er({timedOut:l,timeout:h,errorCode:w,signal:o,signalDescription:m,exitCode:i,isCanceled:u})}: ${s}`,E=Object.prototype.toString.call(n)==="[object Error]",M=E?`${g}
${n.message}`:g,F=[M,t,e].filter(Boolean).join(`
`);return E?(n.originalMessage=n.message,n.message=F):n=new Error(F),n.shortMessage=M,n.command=s,n.escapedCommand=a,n.exitCode=i,n.signal=o,n.signalDescription=m,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!l,n.isCanceled=u,n.killed=f&&!l,n};Lt.exports=vr});var qt=c((mi,he)=>{"use strict";var z=["stdin","stdout","stderr"],Ir=e=>z.some(t=>e[t]!==void 0),Nt=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return z.map(n=>e[n]);if(Ir(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${z.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,z.length);return Array.from({length:r},(n,o)=>t[o])};he.exports=Nt;he.exports.node=e=>{let t=Nt(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var $t=c((hi,X)=>{X.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&X.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&X.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ut=c((wi,G)=>{var d=global.process,_=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};_(d)?(Mt=require("assert"),A=$t(),Ft=/^win/i.test(d.platform),N=require("events"),typeof N!="function"&&(N=N.EventEmitter),d.__signal_exit_emitter__?p=d.__signal_exit_emitter__:(p=d.__signal_exit_emitter__=new N,p.count=0,p.emitted={}),p.infinite||(p.setMaxListeners(1/0),p.infinite=!0),G.exports=function(e,t){if(!_(global.process))return function(){};Mt.equal(typeof e,"function","a callback must be provided for exit handler"),C===!1&&we();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){p.removeListener(r,e),p.listeners("exit").length===0&&p.listeners("afterexit").length===0&&K()};return p.on(r,e),n},K=function(){!C||!_(global.process)||(C=!1,A.forEach(function(t){try{d.removeListener(t,V[t])}catch{}}),d.emit=Z,d.reallyExit=ye,p.count-=1)},G.exports.unload=K,b=function(t,r,n){p.emitted[t]||(p.emitted[t]=!0,p.emit(t,r,n))},V={},A.forEach(function(e){V[e]=function(){if(_(global.process)){var r=d.listeners(e);r.length===p.count&&(K(),b("exit",null,e),b("afterexit",null,e),Ft&&e==="SIGHUP"&&(e="SIGINT"),d.kill(d.pid,e))}}}),G.exports.signals=function(){return A},C=!1,we=function(){C||!_(global.process)||(C=!0,p.count+=1,A=A.filter(function(t){try{return d.on(t,V[t]),!0}catch{return!1}}),d.emit=jt,d.reallyExit=Bt)},G.exports.load=we,ye=d.reallyExit,Bt=function(t){_(global.process)&&(d.exitCode=t||0,b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),ye.call(d,d.exitCode))},Z=d.emit,jt=function(t,r){if(t==="exit"&&_(global.process)){r!==void 0&&(d.exitCode=r);var n=Z.apply(this,arguments);return b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),n}else return Z.apply(this,arguments)}):G.exports=function(){return function(){}};var Mt,A,Ft,N,p,K,b,V,C,we,ye,Bt,Z,jt});var Dt=c((yi,Ht)=>{"use strict";var Tr=require("os"),Pr=Ut(),Ar=1e3*5,Cr=(e,t="SIGTERM",r={})=>{let n=e(t);return Gr(e,t,r,n),n},Gr=(e,t,r,n)=>{if(!Rr(t,r,n))return;let o=Lr(r),i=setTimeout(()=>{e("SIGKILL")},o);i.unref&&i.unref()},Rr=(e,{forceKillAfterTimeout:t},r)=>kr(e)&&t!==!1&&r,kr=e=>e===Tr.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Lr=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Ar;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Or=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Nr=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},qr=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let o,i=new Promise((a,l)=>{o=setTimeout(()=>{Nr(e,r,l)},t)}),s=n.finally(()=>{clearTimeout(o)});return Promise.race([i,s])},$r=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Mr=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let o=Pr(()=>{e.kill()});return n.finally(()=>{o()})};Ht.exports={spawnedKill:Cr,spawnedCancel:Or,setupTimeout:qr,validateTimeout:$r,setExitHandler:Mr}});var zt=c((gi,Wt)=>{"use strict";var x=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";x.writable=e=>x(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";x.readable=e=>x(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";x.duplex=e=>x.writable(e)&&x.readable(e);x.transform=e=>x.duplex(e)&&typeof e._transform=="function";Wt.exports=x});var Kt=c((Si,Xt)=>{"use strict";var{PassThrough:Fr}=require("stream");Xt.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);let i=new Fr({objectMode:o});r&&i.setEncoding(r);let s=0,a=[];return i.on("data",l=>{a.push(l),o?s=a.length:s+=l.length}),i.getBufferedValue=()=>t?a:n?Buffer.concat(a,s):a.join(""),i.getBufferedLength=()=>s,i}});var Vt=c((xi,q)=>{"use strict";var{constants:Br}=require("buffer"),jr=require("stream"),{promisify:Ur}=require("util"),Hr=Kt(),Dr=Ur(jr.pipeline),Y=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function ge(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=Hr(t);return await new Promise((o,i)=>{let s=a=>{a&&n.getBufferedLength()<=Br.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),i(a)};(async()=>{try{await Dr(e,n),o()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new Y)})}),n.getBufferedValue()}q.exports=ge;q.exports.buffer=(e,t)=>ge(e,{...t,encoding:"buffer"});q.exports.array=(e,t)=>ge(e,{...t,array:!0});q.exports.MaxBufferError=Y});var Yt=c((_i,Zt)=>{"use strict";var{PassThrough:Wr}=require("stream");Zt.exports=function(){var e=[],t=new Wr({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(r),t;function r(i){return Array.isArray(i)?(i.forEach(r),this):(e.push(i),i.once("end",o.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function n(){return e.length==0}function o(i){e=e.filter(function(s){return s!==i}),!e.length&&t.readable&&t.end()}}});var tn=c((bi,en)=>{"use strict";var Jt=zt(),Qt=Vt(),zr=Yt(),Xr=(e,t)=>{t===void 0||e.stdin===void 0||(Jt(t)?t.pipe(e.stdin):e.stdin.end(t))},Kr=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=zr();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Se=async(e,t)=>{if(e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},xe=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Qt(e,{encoding:t,maxBuffer:n}):Qt.buffer(e,{maxBuffer:n})},Vr=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:o,maxBuffer:i},s)=>{let a=xe(e,{encoding:n,buffer:o,maxBuffer:i}),l=xe(t,{encoding:n,buffer:o,maxBuffer:i}),u=xe(r,{encoding:n,buffer:o,maxBuffer:i*2});try{return await Promise.all([s,a,l,u])}catch(f){return Promise.all([{error:f,signal:f.signal,timedOut:f.timedOut},Se(e,a),Se(t,l),Se(r,u)])}},Zr=({input:e})=>{if(Jt(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};en.exports={handleInput:Xr,makeAllStream:Kr,getSpawnedResult:Vr,validateInputSync:Zr}});var rn=c((Ei,nn)=>{"use strict";var Yr=(async()=>{})().constructor.prototype,Qr=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Yr,e)]),Jr=(e,t)=>{for(let[r,n]of Qr){let o=typeof t=="function"?(...i)=>Reflect.apply(n.value,t(),i):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:o})}return e},eo=e=>new Promise((t,r)=>{e.on("exit",(n,o)=>{t({exitCode:n,signal:o})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});nn.exports={mergePromise:Jr,getSpawnedPromise:eo}});var an=c((vi,sn)=>{"use strict";var on=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],to=/^[\w.-]+$/,no=/"/g,ro=e=>typeof e!="string"||to.test(e)?e:`"${e.replace(no,'\\"')}"`,oo=(e,t)=>on(e,t).join(" "),io=(e,t)=>on(e,t).map(r=>ro(r)).join(" "),so=/ +/g,ao=e=>{let t=[];for(let r of e.trim().split(so)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};sn.exports={joinCommand:oo,getEscapedCommand:io,parseCommand:ao}});var be=c((Ii,R)=>{"use strict";var co=require("path"),_e=require("child_process"),lo=yt(),uo=St(),fo=bt(),po=Tt(),Q=Ot(),ln=qt(),{spawnedKill:mo,spawnedCancel:ho,setupTimeout:wo,validateTimeout:yo,setExitHandler:go}=Dt(),{handleInput:So,getSpawnedResult:xo,makeAllStream:_o,validateInputSync:bo}=tn(),{mergePromise:cn,getSpawnedPromise:Eo}=rn(),{joinCommand:un,parseCommand:dn,getEscapedCommand:fn}=an(),vo=1e3*1e3*100,Io=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:o})=>{let i=t?{...process.env,...e}:e;return r?fo.env({env:i,cwd:n,execPath:o}):i},pn=(e,t,r={})=>{let n=lo._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:vo,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Io(r),r.stdio=ln(r),process.platform==="win32"&&co.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},$=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?uo(t):t,J=(e,t,r)=>{let n=pn(e,t,r),o=un(e,t),i=fn(e,t);yo(n.options);let s;try{s=_e.spawn(n.file,n.args,n.options)}catch(w){let y=new _e.ChildProcess,g=Promise.reject(Q({error:w,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return cn(y,g)}let a=Eo(s),l=wo(s,n.options,a),u=go(s,n.options,l),f={isCanceled:!1};s.kill=mo.bind(null,s.kill.bind(s)),s.cancel=ho.bind(null,s,f);let m=po(async()=>{let[{error:w,exitCode:y,signal:g,timedOut:E},M,F,vn]=await xo(s,n.options,u),Te=$(n.options,M),Pe=$(n.options,F),Ae=$(n.options,vn);if(w||y!==0||g!==null){let Ce=Q({error:w,exitCode:y,signal:g,stdout:Te,stderr:Pe,all:Ae,command:o,escapedCommand:i,parsed:n,timedOut:E,isCanceled:f.isCanceled,killed:s.killed});if(!n.options.reject)return Ce;throw Ce}return{command:o,escapedCommand:i,exitCode:0,stdout:Te,stderr:Pe,all:Ae,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return So(s,n.options.input),s.all=_o(s,n.options),cn(s,m)};R.exports=J;R.exports.sync=(e,t,r)=>{let n=pn(e,t,r),o=un(e,t),i=fn(e,t);bo(n.options);let s;try{s=_e.spawnSync(n.file,n.args,n.options)}catch(u){throw Q({error:u,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=$(n.options,s.stdout,s.error),l=$(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let u=Q({stdout:a,stderr:l,error:s.error,signal:s.signal,exitCode:s.status,command:o,escapedCommand:i,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return u;throw u}return{command:o,escapedCommand:i,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};R.exports.command=(e,t)=>{let[r,...n]=dn(e);return J(r,n,t)};R.exports.commandSync=(e,t)=>{let[r,...n]=dn(e);return J.sync(r,n,t)};R.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=ln.node(r),o=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:i=process.execPath,nodeOptions:s=o}=r;return J(i,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Uo={};Gn(Uo,{confirmation:()=>jo,default:()=>Bo});module.exports=Rn(Uo);var _n=require("@raycast/api"),bn=require("child_process"),En=require("util");var gn=require("react"),S=require("@raycast/api");var te=k(require("node:process"),1),wn=k(be(),1);function Ee({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function ve(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Ee(),"")}var ee=k(require("node:process"),1),mn=require("node:os"),To=()=>{let{env:e}=ee.default;if(ee.default.platform==="win32")return e.COMSPEC||"cmd.exe";try{let{shell:t}=(0,mn.userInfo)();if(t)return t}catch{}return ee.default.platform==="darwin"?e.SHELL||"/bin/zsh":e.SHELL||"/bin/sh"},Po=To(),hn=Po;var Ao=["-ilc",'echo -n "_SHELL_ENV_DELIMITER_"; env; echo -n "_SHELL_ENV_DELIMITER_"; exit'],Co={DISABLE_AUTO_UPDATE:"true"},Go=e=>{e=e.split("_SHELL_ENV_DELIMITER_")[1];let t={};for(let r of ve(e).split(`
`).filter(n=>!!n)){let[n,...o]=r.split("=");t[n]=o.join("=")}return t};async function yn(e){if(te.default.platform==="win32")return te.default.env;try{let{stdout:t}=await(0,wn.default)(e||hn,Ao,{env:Co});return Go(t)}catch(t){if(e)throw t;return te.default.env}}var Ro=k(be(),1);var Lo=k(require("react"),1),Oo=require("react");var No=require("@raycast/api");var $o=require("@raycast/api"),Ie=require("react");var xn=require("react/jsx-runtime"),ne=null,Sn=async()=>{if(ne)return ne;let e=await yn();return ne={env:e,cwd:e.HOME||`/Users/${process.env.USER}`,shell:e.SHELL},ne};var Fo=(0,En.promisify)(bn.exec);async function Bo(e){let t=await Sn();return Fo(e.command,t)}var jo=async e=>{let t=await _n.AI.ask(`Act as a security researcher. Your purpose is to analyze bash commands and identify the ones that could be unsafe to execute on users machine. Reply with "safe" if it is ok to run the command, otherwise reply with an explanation why is it unsafe. Unsafe are the only ones that could be harmful for user without the way to recover from the damage.
     Examples:

     Command: rm -rf /
     Result: It will remove all files on the root directory without a way to recover

     Command: ls -la ~/Downloads
     Result: safe

     Command: echo "Hello, World!"
     Result: safe

     Command: :(){ :|:& };:
     Result: It will create unlimited processes and crash the system

     Command: mkfs.ext4 /dev/sda1
     Result: It will format the disk and remove all data

     Command: ${e.command}
     Result:
    `);if(t!=="safe")return{info:[{name:"Command",value:e.command},{name:"Notice",value:t}]}};0&&(module.exports={confirmation});
