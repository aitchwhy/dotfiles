var w=Object.create;var n=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var s in t)n(e,s,{get:t[s],enumerable:!0})},l=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of S(t))!F.call(e,r)&&r!==s&&n(e,r,{get:()=>t[r],enumerable:!(o=x(t,r))||o.enumerable});return e};var u=(e,t,s)=>(s=e!=null?w(k(e)):{},l(t||!e||!e.__esModule?n(s,"default",{value:e,enumerable:!0}):s,e)),P=e=>l(n({},"__esModule",{value:!0}),e);var $={};A($,{default:()=>y});module.exports=P($);var d=require("@raycast/api");var a=require("@raycast/api"),f=require("child_process"),p=u(require("fs")),h=u(require("util"));async function i(e,t,s){await(0,a.closeMainWindow)();let o=h.default.promisify(f.exec),r=`${a.environment.assetsPath}/screenshot.png`,g=`/usr/sbin/screencapture ${s?"-s":""} ${r}`,m;try{await o(g),m=await p.default.promises.readFile(r)}catch(c){await(0,a.showToast)({style:a.Toast.Style.Failure,title:"Failed to get screenshot",message:c.message});return}console.log(`Screenshot captured at ${r}`);try{await(0,a.launchCommand)({name:"askAI",type:a.LaunchType.UserInitiated,context:{buffer:[m],args:e.arguments,context:t}})}catch(c){await(0,a.showToast)({style:a.Toast.Style.Failure,title:"Failed to launch askAI command",message:c.message})}}async function y(e){let{prompt:t}=(0,d.getPreferenceValues)();await i(e,t,!1)}
